<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="author" content="Sebastian Troy" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />

		<!-- This block deals with page details -->
		<title>Trilobytes - Evolution Simulator</title>

		<!-- All css files used throughout page -->
		<link rel="stylesheet" type="text/css" href="common/css/lightbox.css">
		<link rel="stylesheet" type="text/css" href="common/css/header_footer.css">
		<link rel="stylesheet" type="text/css" href="common/css/basic_style.css">
		<link rel="stylesheet" type="text/css" href="common/css/responsive_layout.css">
		<link rel="stylesheet" type="text/css" href="common/css/content_box.css">

		<link rel='stylesheet' type='text/css' href='http://fonts.googleapis.com/css?family=Vollkorn'>
		<link rel='stylesheet' type='text/css' href='http://fonts.googleapis.com/css?family=Quattrocento'>

		<!-- All javascript files used throughout page -->
		<script type="text/javascript" src="common/js/libs/jquery-3.7.1.min.js"></script>
		<script type="text/javascript" src="common/js/libs/jquery.cookie-1.4.1.min.js"></script>
		<script type="text/javascript" src="common/js/libs/lightbox.min.js"></script>
		<script type="text/javascript" src="common/js/header.js"></script>
		<script type="text/javascript" src="common/js/content_box.js"></script>
	</head>
	<body>
		<div id="master_container">
			<!-- Sticky header (Title minimised when user scrolls down, leaving only menu) -->
			<div id="header_container">
				<div class="title">
					Troy<img class="logo" src="common/img/logo.svg" />Dev
				</div>
				<!-- Menu -->
				<div class="nav_menu">
					<a class="nav_menu_button about" href="index.html">About Me</a><a
						class="nav_menu_button projects" href="projects.html">Projects</a><a
						class="nav_menu_button contact" href="contact.html">Contact</a>
				</div>
				<!-- close nav_menu -->
			</div>
			<!-- close header_container -->
			<div id="page_container">
				<div class="row">
					<div class="column">
						<div class="box">
							<h1 class="box_heading">Animal Evolution Simulation</h1>
							<div class="content">
								<p>This projects aims to model animal evolution through natural selection. It does this by simulating an
									environment
									in which animal like entities grow and reproduce, while competing for food.</p>
								<p>In many genetic algorithms there are distinct stages or generations:</p>
								<ol>
									<li>Generate a random population.</li>
									<li>Test them all using a <a href="http://en.wikipedia.org/wiki/Fitness_function">fitness
											function</a>.
									</li>
									<li>Select a fit portion of the population, based on the fitness function.</li>
									<li>Create the next generation from the fit individuals, usually by copying them and adding small
										mutations to
										some.</li>
								</ol>
								<p>In this program however there is no defined fitness function and there are no set generations.
									Instead the fitness
									of an individual can be considered to be how many offspring it manages to have. Therefore there are
									no distinct
									generations, as in real life, some creatures will outlive others and successfully have offspring
									before or after each
									other.</p>
								<p>In any situation where you have variation in a population, inheritable traits, mutation and
									non-guaranteed
									survival you will get evolution, it is unavoidable and can be applied in any situation in which
									those factors coexist.</p>
								<div class="box_break"></div>
								<p>
									Source code: <a href="https://github.com/SebastianTroy/Trilobytes">Github</a>
								</p>
								<p>
									Try it yourself: <a download="Trilobytes-Alpha-Release-003.7z"
										href="projects/trilobytes/zips/Trilobytes-Alpha-Release-003.7z">Trilobytes-Alpha-Release-003.7z</a>
								</p>
								<ol>
									<li>Download and unzip the folder,</li>
									<li>Double click on "Trilobytes.exe".</li>
								</ol>
								<div class="box_break"></div>
								<a href="projects/trilobytes/img/overview-04-2021.png" data-lightbox="about"
									data-title="Shows the new GUI, with a spike entity selected and a graph showing the average generation for all living trilobytes.">
									<img src="projects/trilobytes/img/overview-04-2021.png" class="thumbnail" alt="View Image" />
								</a><a href="projects/trilobytes/img/healthDemo-04-2021.png" data-lightbox="about"
									data-title="Shows a trilobyte with less than maximum health (a health bar is displayed, where the red is the remaining health proportion, and the black background is the total).">
									<img src="projects/trilobytes/img/healthDemo-04-2021.png" class="thumbnail" alt="View Image" />
								</a> <a href="projects/trilobytes/img/spikes-122020.png" data-lightbox="about"
									data-title="Shows spikes near some food pellets, with the remains of careless trilobytes littered about">
									<img src="projects/trilobytes/img/spikes-122020.png" class="thumbnail" alt="View Image" />
								</a> <a href="projects/trilobytes/img/GuiUpdateCloseup-102020.gif" data-lightbox="about"
									data-title="This shows some trilobytes early on in the simulation, note the high colour variety and the dark trilobyte that is aimlessly swimming backwards.">
									<img src="projects/trilobytes/img/GuiUpdateCloseupThumb-102020.png" class="thumbnail"
										alt="View Image" />
								</a> <a href="projects/trilobytes/img/GuiUpdateUnlimited-102020.gif" data-lightbox="about"
									data-title="Shows simulation time passing quickly, here the tick speed has been unlimited and the framerate lowered to 20.">
									<img src="projects/trilobytes/img/GuiUpdateUnlimitedThumb-102020.png" class="thumbnail"
										alt="View Image" />
								</a>
								<div class="box_break"></div>
							</div>
						</div>
					</div>
					<div class="column">
						<div class="box">
							<h1 class="box_heading">Help</h1>
							<div class="content">
								<div class="box">
									<h2 class="box_heading start_minimised">What Am I Looking At?</h2>
									<div class="content">
										<p>Each organism, or 'trilobyte', is represented by a coloured circle. The open circles
											represent senses that
											detect other entities within their area. The straight line points directly forwards and
											detects a single entity
											touching it, the closest to the trilobyte. Food particles are represented by green circles.
										</p>
										<p>Each trilobyte can only detect items within the range of its senses.</p>
										<p>The right hand column is the "Inspector view" depending on the currently selected entity in
											the simulation, this
											view will have tabs that offer detailed information about the entity. If a Trilobyte is
											selected for example, not only
											will a table of its traits be displayed, but in the next tab the inner details of the neural
											network that controls it
											will be displayed. The neuron activation can even be viewed live as the simulation runs.
											Hover the mouse over the
											neural networks for more information.</p>
										<p>The bottom panel contains a number of customisable graphs. These show, among other things,
											the distribution of
											energy in the simulation between various entity types, the average age of various entity
											types, the average movement
											speed of trilobytes, and the performance of the simulation itself.</p>

									</div>
								</div>
								<div class="box">
									<h2 class="box_heading start_minimised">The Genetics</h2>
									<div class="content">
										<p>
											A trilobyte's genetics are quite complex. A genome can contain one or more chromosomes,
											which in turn can contain one
											or more genes. Chromosomes exist in pairs, like in real life <a
												href="https://en.wikipedia.org/wiki/Eukaryote">eukaryotes</a>.
											When combining genomes, each trilobyte parent contributes a single chromosome from each
											pair, so that a child receives
											two copies of each gene (for a-sexual reproduction, the single parent's genome is copied and
											treated like two genomes
											from separate parents).
										</p>
										<p>Currently the following genes exist:</p>
										<ul>
											<li>GenePigment: Contributes to the final colour of the trilobyte,</li>
											<li>GeneBrain: Contains the complete description of the main neural network for the
												trilobyte,</li>
											<li>GeneSenseTraitsInArea: Adds a circular sense that detects all other entities within an
												area,</li>
											<li>GeneSenseTraitsRaycast: Adds a line sense that detects the single nearest entity that is
												colliding with the
												line,</li>
											<li>GeneSenseTraitsSelf: Adds a sense that measures certain aspects of the trilobytes own
												state,</li>
											<li>GeneSenseTraitsTouching: Adds a sense that detects all entities colliding with a single
												point,</li>
											<li>GeneSenseMagneticField: Adds a sense that indicates the angle to (0, 0) and the distance
												to it,</li>
											<li>GeneSenseLunarCycle: Adds a sense which tracks a global value, which oscillates in a
												regular pattern. This
												allows individuals to react to a shared source of information,</li>
											<li>GeneSenseRandom: Adds a sense that detects a <a
													href="https://en.wikipedia.org/wiki/Low-pass_filter">low
													pass filter</a>ed number. The filter helps the value to change more gradually,
											</li>
											<li>GeneSenseSine: Adds a sense that detects a constantly oscillating number, based on a <a
													href="https://en.wikipedia.org/wiki/Sine_wave">sine wave</a>,
											</li>
											<li>GeneEffectorTail: Adds an effector that allows the entity to move forwards, and turn
												left or right,</li>
											<li>GeneEffectorSpringTail: Adds an effector that allows the entity to jump forwards, energy
												is stored up and
												then released in a single burst of movement,</li>
											<li>GeneEffectorSpike: Adds an effector that places a spike on the swimmers body, this will
												damage any swimmers
												that collide with it,</li>
											<li>GeneEffectorFilterMouth: Adds an effector that each tick consumes any entity below a
												threshold size,</li>
											<li>GeneEffectorProboscisMouth: Adds an effector that each tick leeches energy from any
												trilobyte or egg that it
												collides with its tip. The quantity of energy leeched per tick is limited,</li>
										</ul>
									</div>
								</div>
								<div class="box">
									<h2 class="box_heading start_minimised">The Interface</h2>
									<div class="content">
										<p>The interface is currently very simple, left click and drag on an entity to move it, middle
											click & drag to pan
											around the simulation, mouse scroll wheel to zoom, and you can right click on any entity to
											select it. When an entity
											is selected, details about it will be displayed in the right panel. When a trilobyte is
											selected, an additional tab
											will be available on the right, the "Brain Inspector" view.</p>
										<p>Note that there are invisible handles between each section of the user interface that can be
											used to adjust the
											sizes of the panels, the invisibleness is a bug in Qt, there is a plan to work around it by
											drawing a custom handle.
											For now the mouse will change from a pointer to a resize arrow when it is over a handle.</p>
									</div>
								</div>
							</div>
						</div>
					</div>
					<div class="column">
						<div class="box">
							<h1 class="box_heading">Development log</h1>
							<div class="content">
								<div class="box">
									<h2 class="box_heading">~ April 2021 ~</h2>
									<div class="content">
										<p>This update brings a big overhaul to the user interface. The inspector view on the right now
											has tabs, allowing
											any entity to be inspected, and opening up oppertunities to give further inspection views in
											the future. The Graphs
											view on the bottom now contains more graphs, allows them to be opened and closed and most
											importantly, gives a set of
											controlls to fine tune each graph independantly. There are also more settings on the left
											side, though this aspect of
											the GUI is definitely still in need of a large update.</p>
										<p>Behind the scenes, there have been a large number of tweaks to how mutations work for genes,
											and now there are
											many more ways each gene can mutate. There are also new genes, and Effectors. The new
											mouthparts allow for optional
											predation, and spikes both environmental and growable add new dangers to evolve defences
											for.</p>
										<p>Entities can now be moved around using the mousse to click and drag them.</p>
										<p>The build system has been switched to use CMake, tests have been added, which uncovered a few
											bugs. Utility
											classes have also been moved into a seperate library.</p>
										<p>The new build system has also made it easier to include third party libraries, including a
											json lib, so now
											genomes can be saved to file (loading Genomes from file to follow in a future update).</p>
										<div class="box_break"></div>
										<a href="projects/trilobytes/img/overview-04-2021.png" data-lightbox="tril1-04-2021"
											data-title="Shows the new GUI, with a spike entity selected and a graph showing the average generation for all living trilobytes.">
											<img src="projects/trilobytes/img/overview-04-2021.png" class="thumbnail"
												alt="View Image" />
										</a><a href="projects/trilobytes/img/healthDemo-04-2021.png" data-lightbox="tril1-04-2021"
											data-title="Shows a trilobyte with less than maximum health (a health bar is displayed, where the red is the remaining health proportion, and the black background is the total).">
											<img src="projects/trilobytes/img/healthDemo-04-2021.png" class="thumbnail"
												alt="View Image" />
										</a>
										<div class="box_break"></div>
										<p>
											Try it yourself: <a download="Trilobytes-Alpha-Release-003.7z"
												href="projects/trilobytes/zips/Trilobytes-Alpha-Release-003.7z">Trilobytes-Alpha-Release-003.7z</a>
										</p>
										<ol>
											<li>Download and unzip the folder,</li>
											<li>Double click on "Trilobytes.exe".</li>
										</ol>
									</div>
								</div>
								<div class="box">
									<h2 class="box_heading start_minimised">~ December 2020 ~</h2>
									<div class="content">
										<p>Under the hood there have been a lot of tweaks to the genetics, improving the scope of what
											can mutate and
											evolve. Trilobytes also now have "health" which can if completely lost, cause a trilobyte to
											die. A trilobyte that
											died from lack of health will transmute any remaining energy into a collection of
											"MeatChunks", and while there isn't
											anything that interactes with them yet, the intent is to allow predation to be a viable
											survival strategy in future
											updates.</p>
										<div class="box_break"></div>
										<a href="projects/trilobytes/img/spikes-122020.png" data-lightbox="tril122020"
											data-title="Shows the new spikes, guarding some food pellets, with the remains of careless trilobytes littered about">
											<img src="projects/trilobytes/img/spikes-122020.png" class="thumbnail" alt="View Image" />
										</a>
										<div class="box_break"></div>
										<p>
											Try it yourself: <a download="Trilobytes-Alpha-Release-002.7z"
												href="projects/trilobytes/zips/Trilobytes-Alpha-Release-002.7z">Trilobytes-Alpha-Release-002.7z</a>
										</p>
										<ol>
											<li>Download and unzip the folder,</li>
											<li>Double click on "Trilobytes.exe".</li>
										</ol>
										<div class="box_break"></div>
										<p>Major features:</p>
										<ul>
											<li>Networks can now mutate their width and height, allowing senses and effectors more
												flexibility in their
												possible mutations,</li>
											<li>Trilobytes now have a notion of their health, when below 100% they will expend energy to
												heal, when it
												reaches 0% they die,</li>
											<li>If a trilobyte dies with more than 0 energy, the energy is converted into meat chunks,
												which slowly decay if
												uneaten,</li>
											<li>Lunar cycle, as yet unused but will be an available sense going forward, hopefully
												allowing disparate
												trilobytes to coordinate behaviour,</li>
											<li>Base metabolism, trilobytes now have a variable basic energy usage per tick, based on
												the size and complexity
												of their senses and effectors,</li>
											<li>Graphs are now configurable,</li>
											<li>New graphs, showing lunar cycle stage, average health, average metabolism, trilobyte
												generation number and
												simulation tick performance,</li>
										</ul>
									</div>
								</div>
								<div class="box">
									<h2 class="box_heading start_minimised">~ Late October 2020 ~</h2>
									<div class="content">
										<p>The next stage of the project was to create a distributable release. Once this had been
											achieved, it was evident
											that a more polished set of controls were needed. This update therefore not only allows you
											to download and tinker
											with the simulation yourself, but it also contains a big update to the user interface.</p>
										<div class="box_break"></div>
										<a href="projects/trilobytes/img/GuiUpdate-102020.png" data-lightbox="tril102020-guiupdate"
											data-title="Shows off the new GUI, graphs have swapped places with the inspector view.">
											<img src="projects/trilobytes/img/GuiUpdate-102020.png" class="thumbnail"
												alt="View Image" />
										</a> <a href="projects/trilobytes/img/GuiUpdateInspector-102020.png"
											data-lightbox="tril102020-guiupdate"
											data-title="Shows off the new GUI, graphs have swapped places with the inspector view.">
											<img src="projects/trilobytes/img/GuiUpdateInspector-102020.png" class="thumbnail"
												alt="View Image" />
										</a> <a href="projects/trilobytes/img/GuiUpdateCloseup-102020.gif"
											data-lightbox="tril102020-guiupdate"
											data-title="This shows some trilobytes early on in the simulation, note the high colour variety and the dark trilobyte that is aimlessly swimming backwards.">
											<img src="projects/trilobytes/img/GuiUpdateCloseupThumb-102020.png" class="thumbnail"
												alt="View Image" />
										</a> <a href="projects/trilobytes/img/GuiUpdateUnlimited-102020.gif"
											data-lightbox="tril102020-guiupdate"
											data-title="Shows simulation time passing quickly, here the tick speed has been unlimited and the framerate lowered to 20.">
											<img src="projects/trilobytes/img/GuiUpdateUnlimitedThumb-102020.png" class="thumbnail"
												alt="View Image" />
										</a>
										<div class="box_break"></div>
										<p>
											Try it yourself: <a download="Trilobytes-Alpha-Release-001.7z"
												href="projects/trilobytes/zips/Trilobytes-Alpha-Release-001.7z">Trilobytes-Alpha-Release-001.7z</a>
										</p>
										<ol>
											<li>Download and unzip the folder,</li>
											<li>Double click on "Trilobytes.exe".</li>
										</ol>
										<div class="box_break"></div>
										<p>Major features:</p>
										<ul>
											<li>Distributable release (Windows only for now),</li>
											<li>More graphs, with more conventional axes and better labelling,</li>
											<li>Controllable simulation speed & framerate,</li>
											<li>Buttons! Settings now more intuitive and easier to use,</li>
											<li>Brain Inspector improvements and view options.</li>
										</ul>
										<p>There are still a few major items planned:</p>
										<ul>
											<li>The ability for trilobytes to eat each other,</li>
											<li>Entities need to be movable and createable,</li>
											<li>Rendering options, to enable/disable senses, the quad-tree, and food spawners,</li>
											<li>Food spawners need to me movable, creatable and adjustable.</li>
										</ul>
										<div class="box_break"></div>
										<ul>
											<li>Settings:
												<ul>
													<li>Reset: Removes all entities, sets time to 0 and respawns the default feeders and
														a number of default
														trilobytes.</li>
													<li>Spawn Food: A toggle switch, when pressed down (default) food will spawn in the
														simulation. When lifted,
														food will stop spawning.</li>
													<li>Select Fittest: Searches the simulation for the trilobyte with the most living
														descendants and selects it.</li>
													<li>Follow: Each tick the Universe's view is adjusted so the selected trilobyte is
														always in the centre.</li>
												</ul>
											</li>
											<li>Simulation:
												<ul>
													<li>The mouse can be used to pan (left mouse button, click and drag), zoom (scroll
														wheel), and select a
														trilobyte (right mouse button).</li>
													<li>Pause: A toggle switch, the simulation will not progressed when this button is
														down.</li>
													<li>Limit: A toggle switch, when pressed down, the simulation will not delay between
														ticks (default).</li>
													<li>TPS: "Ticks per Second" The value in this box is the maximum number of
														simulation ticks to be computed per
														second. The limit is only applied if "Limit" (button to the left) is pressed
														down.</li>
													<li>FPS: "Frames per Second" The value in this box is the number of times the
														simulation draws itself each
														second. A higher value will result in smoother animation. A lower value will
														allow ticks to be computed more
														rapidly.</li>
												</ul>
											</li>
											<li>Brain Inspector:
												<ul>
													<li>The mouse can be used to pan (left mouse button, click and drag), zoom (scroll
														wheel).</li>
													<li>Reset View: Re-centres the view of the neural network, and scales it to fit the
														entire network in the area.</li>
													<li>UpdateLive: When checked, this option will calculate what the selected trilobyte
														is sensing and re-draw the
														trilobytes brain each tick. Blue nodes have a positive value, red nodes have a
														negative value. Connections can also
														be positive or negative, wider connections have a larger value, transparent
														connections are not currently in use.
														Sometimes a node will grow larger than normal, this implies it has a value > 1.
													</ul>
												</li>
												<li>Graphs:
													<ul>
														<li>Energy: The combined ammount of energy contained by all of a particular entity
															type. Currently the green
															line represents food pellet energy, and the blue line represents trilobyte
															energy.</li>
														<li>Mean Age: The average age (in ticks) of a particular energy type. Again green
															for food pellets, blue for
															trilobytes.</li>
														<li>Oldest: Tracks the age of the oldest entity for each type. An increasing
															diagonal line represents the
															continued aging of the current oldest entity. A drop implies that the oldest
															entity died and the age of the next
															oldest entity is lower.</li>
													</ul>
												</li>
											</ul>
										</div>
									</div>
									<div class="box">
										<h2 class="box_heading start_minimised">~ Early October 2020 ~</h2>
										<div class="content">
											<p>While this is the first build that has been documented on this website, it is actually
												roughly the fourth major
												iteration of this project. I may retroactively document some older versions, however the
												pipeline for new features is
												quite big, so there should be plenty of future content.</p>
											<div class="box_break"></div>
											<a href="projects/trilobytes/img/EarlyExampleWithDebug-102020.png" data-lightbox="tril102020"
												data-title="Shows a number of trilobytes, with a graph on the right (rotated 90 degrees clockwise) and a snapshot of a trilobytes 'brain' state">
												<img src="projects/trilobytes/img/EarlyExampleWithDebug-102020.png" class="thumbnail"
													alt="View Image" />
											</a> <a href="projects/trilobytes/img/StaticDistantViewOfTrilobytes-102020.gif"
												data-lightbox="tril102020"
												data-title="A zoomed out view showing two large food spawning areas with many living trilobytes.">
												<img src="projects/trilobytes/img/ZoomedOutThumb-102020.png" class="thumbnail"
													alt="View Image" />
											</a> <a href="projects/trilobytes/img/StaticViewOfTrilobytes-102020.gif"
												data-lightbox="tril102020"
												data-title="A close up of some trilobytes, towards the end a trilobyte lays an egg."> <img
													src="projects/trilobytes/img/ZoomedInThumb-102020.png" class="thumbnail"
													alt="View Image" />
											</a> <a href="projects/trilobytes/img/FollowingTrilobyte-102020.gif" data-lightbox="tril102020"
												data-title="A close up of a selected trilobyte, following it as it eats food."> <img
													src="projects/trilobytes/img/FollowingThumb-102020.png" class="thumbnail"
													alt="View Image" />
											</a> <a href="projects/trilobytes/img/NeuralNetworkUpdatingLive-102020.gif"
												data-lightbox="tril102020"
												data-title="Shows the brain of a trilobyte updating live, as it swims around the simulation. The random node triggers the most, however the other senses also trigger periodically.">
												<img src="projects/trilobytes/img/NetworkThumb-102020.png" class="thumbnail"
													alt="View Image" />
											</a>
											<div class="box_break"></div>
											<p>Major features:</p>
											<ul>
												<li>Each trilobyte has a fully simulated genome. Genes add abilities to the trilobyte, like
													senses, pigments or
													limbs,</li>
												<li>Trilobytes can combine their genomes to reproduce sexually, or they can reproduce
													a-sexually,</li>
												<li>A graph documents the total energy contained within all food pellets (green line) and
													all trilobytes (blue
													line),</li>
												<li>The inner workings of a trilobyte's neural network can be observed live, including all
													of the sensory inputs
													and all of the effector outputs,</li>
												<li>Trilobytes can be followed, and the most fit trilobyte can automatically be selected
													each time it changes.</li>
											</ul>
											<p>This build is also notably lacking many things, next priorities include:</p>
											<ul>
												<li>An executable! So far the only way to run this is to build it yourself,</li>
												<li>Buttons! The GUI needs fleshing out, especially if I start distributing an executable,
												</li>
												<li>The ability for trilobytes to eat each other,</li>
												<li>Entities need to be movable and create-able,</li>
											</ul>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
				<!-- close page_container -->
				<footer id="footer_container"> Copyright&copy; Sebastian Troy 2023 </footer>
				<!-- close footer_container -->
			</div>
			<!-- close master_container -->
		</body>
	</html>